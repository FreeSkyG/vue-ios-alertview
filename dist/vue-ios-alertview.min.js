(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports):typeof define==="function"&&define.amd?define(["exports"],t):t(e.vueIosAlertview=e.vueIosAlertview||{})})(this,function(e){"use strict";var t=function(){var e;var t;var i;e=new Promise(function(e,o){t=e;i=o});return{promise:e,resolve:t,reject:i}};(function(){if(document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),i=" .ios-alertview-overlay{ font-family: Helvetica Neue,Helvetica,Arial,sans-serif; color: #000; font-size: 14px; line-height: 1.4; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.4); z-index: 10600; } .ios-alertview-overlay.v-enter{ opacity: 0; } .ios-alertview-overlay.v-enter-active{ transition: opacity .4s; } .ios-alertview-overlay.v-leave-active{ opacity: 0; transition: opacity .4s; } .ios-alertview-overlay *{ -webkit-tap-highlight-color: transparent; -webkit-touch-callout: none; } .ios-alertview{ width: 270px; position: absolute; z-index: 11000; left: 50%; top: 50%; text-align: center; border-radius: 7px; transform: translate3d(-50%, -50%, 0); } .ios-alertview-overlay.v-enter .ios-alertview{ opacity: 0; transform: translate3d(-50%, -50%, 0) scale(1.185); } .ios-alertview-overlay.v-enter-active .ios-alertview{ transition: all .4s; } .ios-alertview-overlay.v-leave-active .ios-alertview{ opacity: 0; z-index: 10999; transform: translate3d(-50%, -50%, 0) scale(0.815); transition: all .4s; } .ios-alertview-inner{ padding: 15px; border-bottom: 1px solid #b5b5b5; border-top-left-radius: 7px; border-top-right-radius: 7px; background: #e8e8e8; } .ios-alertview-inner-remind{ border-bottom-right-radius: 7px; border-bottom-left-radius: 7px; } .ios-alertview-title{ font-weight: bold; font-size: 18px; text-align: center; } .ios-alertview-title + .ios-alertview-text{ margin-top: 5px; } .ios-alertview-text-input{ outline: 0; box-sizing: border-box; height: 30px; background: #fff; margin: 0; margin-top: 15px; padding: 0 5px; border: 1px solid #a0a0a0; border-radius: 5px; width: 100%; font-size: 14px; font-family: inherit; display: block; box-shadow: 0 0 0 rgba(0, 0, 0, 0); appearance: none; } .ios-alertview-buttons{ overflow: hidden; } .ios-alertview-buttons-horizontal{ height: 44px; display: flex; justify-content: center; } .ios-alertview-button{ width: 100%; padding: 0 5px; height: 44px; font-size: 17px; line-height: 44px; text-align: center; color: #007aff; background: #e8e8e8; display: block; position: relative; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; cursor: pointer; border-bottom: 1px solid #b5b5b5; box-sizing: border-box; } .ios-alertview-button.ios-alertview-button-bold{ font-weight: bold; } .ios-alertview-button:active{ background-color: #d4d4d4; } .ios-alertview-button:last-child{ border-radius: 0 0 7px 7px; } .ios-alertview-buttons-horizontal .ios-alertview-button{ border-bottom: none; border-right: 1px solid #b5b5b5; flex: 1; } .ios-alertview-buttons-horizontal .ios-alertview-button:first-child{ /* cancel */ border-radius: 0 0 0 7px; } .ios-alertview-buttons-horizontal .ios-alertview-button:last-child{ /* OK */ border-right: none; border-radius: 0 0 7px 0; } .ios-alertview-buttons-horizontal .ios-alertview-button:first-child:last-child{ border-radius: 0 0 7px 7px; } ";t.type="text/css";if(t.styleSheet){t.styleSheet.cssText=i}else{t.appendChild(document.createTextNode(i))}e.appendChild(t)}})();var i=400;var o={render:function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("transition",{on:{"after-leave":e.afterLeave}},[e.showModal?i("div",{staticClass:"ios-alertview-overlay"},[i("div",{staticClass:"ios-alertview"},[i("div",{staticClass:"ios-alertview-inner",class:{"ios-alertview-inner-remind":!e.buttons||!e.buttons.length}},[e.title?i("div",{staticClass:"ios-alertview-title"},[e._v(e._s(e.title))]):e._e(),e.text?i("div",{staticClass:"ios-alertview-text",domProps:{innerHTML:e._s(e.text)}}):e._e(),e.input?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"ios-alertview-text-input",attrs:{autofocus:"",placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){if(t.target.composing){return}e.value=t.target.value}}}):e._e()]),e.buttons&&e.buttons.length?i("div",{staticClass:"ios-alertview-buttons",class:{"ios-alertview-buttons-horizontal":e.buttons.length<=2}},e._l(e.buttons,function(t,o){return i("span",{staticClass:"ios-alertview-button",class:{"ios-alertview-button-bold":t.bold},on:{click:function(i){i.preventDefault();i.stopPropagation();e.onClick(t,o)}}},[e._v(e._s(t.text))])})):e._e()])]):e._e()])},staticRenderFns:[],data:function(){return{value:"",showModal:false}},props:["title","text","input","placeholder","onClick","remindDuration","buttons"],methods:{activate:function(){var e=this;this._deferred=t();this.showModal=true;if(!this.buttons||!this.buttons.length){setTimeout(function(){e.showModal=false;e._deferred.resolve()},i+this.remindDuration)}return this._deferred.promise},onClick:function(e,t){var i={index:t,button:e,value:this.value};if(typeof e.onClick==="function"){e.onClick(i)}this._deferred.resolve(i);this.showModal=false},afterLeave:function(){this.$destroy();this.$el.parentNode.removeChild(this.$el)}}};var r={defaultOption:"title",title:null,text:null,input:false,placeholder:"",cancelText:"Cancel",okText:"OK",remindDuration:650};function n(e,i){if(i===void 0)i={};if(typeof i!=="object"){throw new Error("Expect Object options")}var n=e.extend(o);Object.assign(r,i);function a(e){if(e===void 0)e={};var t=Object.assign({},r);if(typeof e==="string"){t[r.defaultOption]=e}else{t=Object.assign(t,e)}return t}function s(e){var t=a(e);var i=new n({propsData:t});var o=document.createElement("div");o.id="ios-alert-view-"+Date.now();document.body.appendChild(o);i.$mount(o);return i.activate()}e.prototype.$iosAlertView=s;e.prototype.$iosAlert=function(e){var i=t();var o=a(e);o.buttons=[{text:o.okText,onClick:i.resolve,bold:true}];s(o);return i.promise};e.prototype.$iosConfirm=function(e){var i=t();var o=a(e);o.buttons=[{text:o.cancelText,onClick:i.reject},{text:o.okText,onClick:i.resolve,bold:true}];s(o);return i.promise};e.prototype.$iosPrompt=function(e){var i=t();var o=a(e);o.input=true;o.buttons=[{text:o.cancelText,onClick:i.reject},{text:o.okText,onClick:function(e){i.resolve(e.value)},bold:true}];s(o);return i.promise};e.prototype.$iosRemind=function(e){var t=a(e);return s(t)}}if(typeof window!=="undefined"&&window.Vue){window.Vue.use(n)}e["default"]=n;Object.defineProperty(e,"__esModule",{value:true})});